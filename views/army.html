<h3 class="page-header" >Calculá tu ejército</h3>

<div class="row">
	<div class="col-sm-6">
		<div class="table-responsive">
			<table class="table table-hover">
				<tr>
					<th colspan="4">Costos</th>
				</tr>
				<tr>
					<td class="elixir"><b>Cuarteles</b></td>
					<td class="elixir"><b>Hechizos</b></td>
					<td class="elixir"><b>Total</b></td>
					<td class="dark-elixir"><b>Cuarteles oscuros</b></td>
				</tr>
				<tr>
					<td class="elixir">{{costo('light') | number}}</td>
					<td class="elixir"><b>{{costo('spells') | number}}</b></td>
					<td class="elixir"><b>{{costo('total.light') | number}}</b></td>
					<td class="dark-elixir">{{costo('dark') | number}}</td>
				</tr>
				
			</table>
		</div>	
	</div>
	
	<div class="col-sm-6">
		<div class="table-responsive">
			<table class="table table-hover">
				<tr>
					<th colspan="4">Cantidad de Tropas</th>
				</tr>
				<tr>
					<td ng-class="{limit : limit('troops')}"><b>Tropas</b></td>
					<td ng-class="{limit : limit('troops')}"><b>Máximo de tropas</b></td>
					<td ng-class="{limit : limit('spells')}"><b>Hechizos</b></td>
					<td ng-class="{limit : limit('spells')}"><b>Máximo hechizos</b></td>
				</tr>
				<tr>
					<td ng-class="{limit : limit('troops')}">{{cantidad('total.troops')}}</td>
					<td ng-class="{limit : limit('troops')}">{{max_amount('troops')}}</td>
					<td ng-class="{limit : limit('spells')}">{{cantidad('spells')}}</td>
					<td ng-class="{limit : limit('spells')}">{{max_amount('spells')}}</td>
				</tr>
				
			</table>
		</div>	
	</div>
</div>

<h4>Elije el nivel tus edificios:</h4>
<div class="row">

	<div class="col-sm-4">
		<h4>Campamentos</h4>
		<ul class="inline">
			<li class="inline" ng-repeat="camp in camps">
				<select ng-init = "camp.lvl = camp.lvls[0]" ng-model="camp.lvl" ng-options="lvl for lvl in camp.lvls"></select>
			</li>
		</ul>
	</div>

	<div class="col-sm-4">
		<h4>Caldero de hechizos</h4>
		<ul class="inline">
			<li class="inline">
				<select ng-init = "spell_factory[0].lvl = spell_factory[0].lvls[0]" ng-model="spell_factory[0].lvl" ng-options="lvl for lvl in spell_factory[0].lvls"></select>
			</li>
		</ul>
	</div>

</div>


<div class="row">

	<div class="col-lg-7">
	<h3>Cuartel</h3>

		<div class="table-responsive">
	      <table class="table table-hover">
	        <tr>
	            <td><b>Unidad</b></td>
	            <td><b>Nivel</b></td>
	            <td><b>Cantidad</b></td>
	            <td class="elixir"><b>Costo Unidad</b></td>
	            <td class="elixir"><b>Costo Total</b></td>
	            <td><b>Tiempo Unidad</b></td>
	        </tr>
	        <tr ng-repeat="unit in light | orderBy:'id' track by unit.id">
	          <td><img ng-src="http://gillchristian.com/clash/img/troops/light/{{unit.unit}}.png" class="troop-img" title="{{unit.name}}" alt="{{unit.name}}"></td>
	          <td><select ng-init = "unit.lvl = unit.lvls[0]" ng-model="unit.lvl" ng-options="lvl for lvl in unit.lvls"></select></td>
	          <td><input size="3" type="text" ng-model="unit.amount"> </td>
	          <td class="elixir">{{unit.cost[unit.lvl-1] | number}}</td>
	          <td class="elixir"><div ng-show="(unit.cost[unit.lvl]*unit.amount) != '' && '0'">{{unit.cost[unit.lvl-1] * unit.amount | number}}</div></td>
	          <td>{{unit.time | creation_time}}</td>
	          <!--<td><div ng-show="(unit.time*unit.amount) != ''">{{unit.time * unit.amount | creation_time}}</div></td>TIEMPO TOTAL-->
	        </tr>
	        <tr>
	        	<td><b>Total</b></td>
	            <td></td>
	            <td>{{ cantidad('light') }}</td>
	            <td><b></b></td>
	            <td class="elixir"><b>{{ costo('light') | number}}</b></td>
	            <td><b></b></td>
	        </tr>
	      </table>
	    </div>

	</div>

	<div class="col-lg-5">
		<h3>Cuartel Oscuro</h3>

			<div class="table-responsive">
		      <table class="table table-hover">
		        <tr>
		            <td><b>Unidad</b></td>
		            <td><b>Nivel</b></td>
		            <td><b>Cantidad</b></td>
		            <td class="dark-elixir"><b>Costo Unidad</b></td>
		            <td class="dark-elixir"><b>Costo Total</b></td>
		            <td><b>Tiempo Unidad</b></td>
		        </tr>
		        <tr ng-repeat="unit in dark | orderBy:'id' track by unit.id">
		          <td><img ng-src="http://gillchristian.com/clash/img/troops/dark/{{unit.unit}}.png" class="troop-img" title="{{unit.name}}" alt="{{unit.name}}"></td>
		          <td><select ng-init = "unit.lvl = unit.lvls[0]" ng-model="unit.lvl" ng-options="lvl for lvl in unit.lvls"></select></td>
		          <td><input size="3" type="text" ng-model="unit.amount"> </td>
		          <td class="dark-elixir">{{unit.cost[unit.lvl-1] | number}}</td>
		          <td class="dark-elixir"><div ng-show="(unit.cost[unit.lvl]*unit.amount) != '' && '0'">{{unit.cost[unit.lvl-1] * unit.amount | number}}</div></td>
		          <td>{{unit.time | creation_time}}</td>
		        </tr>
		        <tr>
	        	<td><b>Total</b></td>
	            <td></td>
	            <td>{{ cantidad('dark') }}</td>
	            <td><b></b></td>
	            <td class="dark-elixir"><b>{{ costo('dark') | number}}</b></td>
	            <td><b></b></td>
	        </tr>
		      </table>
		    </div>

		    <h3>Hecchizos</h3>

		    <div class="table-responsive">
		      <table class="table table-hover">
		        <tr>
		            <td><b>Unidad</b></td>
		            <td><b>Nivel</b></td>
		            <td><b>Cantidad</b></td>
		            <td class="elixir"><b>Costo Unidad</b></td>
		            <td class="elixir"><b>Costo Total</b></td>
		            <td><b>Tiempo Unidad</b></td>
		        </tr>
		        <tr ng-repeat="unit in spells | orderBy:'id' track by unit.id">
		          <td><img ng-src="http://gillchristian.com/clash/img/troops/spells/{{unit.unit}}.png" class="troop-img" title="{{unit.name}}" alt="{{unit.name}}"></td>
		          <td><select ng-init = "unit.lvl = unit.lvls[0]" ng-model="unit.lvl" ng-options="lvl for lvl in unit.lvls"></select></td>
		          <td><input size="3" type="text" ng-model="unit.amount"> </td>
		          <td class="elixir">{{unit.cost[unit.lvl-1] | number}}</td>
		          <td class="elixir" ><div ng-show="(unit.cost[unit.lvl]*unit.amount) != '' && '0'">{{unit.cost[unit.lvl-1] * unit.amount | number}}</div></td>
		          <td>{{unit.time | creation_time}}</td>
		        </tr>
		        <tr>
	        	<td><b>Total</b></td>
	            <td></td>
	            <td>{{ cantidad('spells') }}</td>
	            <td><b></b></td>
	            <td class="elixir"><b>{{ costo('spells') | number}}</b></td>
	            <td><b></b></td>
	        </tr>
		      </table>
		    </div>
		</div>

</div>